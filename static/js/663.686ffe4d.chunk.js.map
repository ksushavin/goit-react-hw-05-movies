{"version":3,"file":"static/js/663.686ffe4d.chunk.js","mappings":"wQAGaA,EAAY,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAExB,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KAgBA,OACI,0BACI,kBAAMC,SAXO,SAACC,GAClBA,EAAEC,iBAEY,KAAVJ,GACAK,MAAM,4BAEVP,EAASE,EACZ,EAIO,WACI,kBACIM,KAAK,OACLC,MAAOP,EACPF,SAnBK,SAAAK,GACjBF,EAASE,EAAEK,OAAOD,MAAME,cAAcC,OACzC,KAkBW,mBAAQJ,KAAK,SAAb,wBAIf,ECuBD,EAlDmB,WAAO,IAAD,EACvB,GAA4BP,EAAAA,EAAAA,UAAS,IAArC,eAAOY,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMf,EAAK,UAAGc,EAAaE,IAAI,gBAApB,QAAgC,GACrCC,GAAWC,EAAAA,EAAAA,MAOXC,GAAUC,EAAAA,EAAAA,cAAY,SAACpB,GAC3B,IAAMqB,EAAW,mCAAG,WAAOrB,GAAP,iGAEasB,EAAAA,EAAAA,IAAYtB,GAFzB,OAEVuB,EAFU,OAGhBX,EAAUW,GAHM,gDAKhBC,QAAQC,IAAR,MALgB,yDAAH,sDAQjBJ,EAAYrB,EACb,GAAE,IAYH,OATA0B,EAAAA,EAAAA,YAAU,WACJ1B,EACFmB,EAAQnB,GAGVY,EAAU,GACX,GAAE,CAACO,EAASnB,KAIX,4BACE,SAACH,EAAD,CAAWC,SA5BE,SAACS,GAChBQ,EAAyB,KAATR,EAAc,CAAEP,MAAOO,GAAS,CAAC,EAClD,EA0BkCA,MAAOP,KACpCW,EAAOgB,OAAS,GAAI,8DACpB,wBACGhB,EAAOiB,KAAI,SAAAC,GAAI,OACd,yBACE,UAAC,KAAD,CAAMC,GAAE,UAAKD,EAAKE,IAAMC,MAAO,CAAEC,KAAMhB,GAAvC,UAAoDY,EAAKK,MAAzD,QADOL,EAAKE,GADA,QAUzB,C","sources":["components/SearchBox/SearchBox.jsx","pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["import { useState } from 'react';\nimport PropTypes from \"prop-types\";\n\nexport const SearchBox = ({ onChange }) => {\n\n    const [query, setQuery] = useState('');\n\n\n    const handleChange = e => {\n        setQuery(e.target.value.toLowerCase().trim());\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        if (query === \"\") {\n            alert('Enter your search query.')\n        }\n        onChange(query)\n    }\n\n    return (\n        <div>\n            <form onSubmit={handleSubmit}>\n                <input\n                    type=\"text\"\n                    value={query}\n                    onChange={handleChange} />\n                <button type=\"submit\">Search</button>\n            </form>\n        </div>\n    )\n}\nSearchBox.propTypes = { \n    onChange: PropTypes.func,\n}\n","import { useState, useEffect, useCallback } from 'react';\nimport { Link, useSearchParams, useLocation } from \"react-router-dom\";\nimport { searchMovie } from 'components/ApiService';\nimport { SearchBox } from 'components/SearchBox/SearchBox';\n\nconst MoviesPage = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get(\"query\") ?? \"\";\n  const location = useLocation();\n  \n  \n  const getQuery = (value) => {\n    setSearchParams(value !==\"\" ? { query: value} : {});\n  }\n\n  const fetches = useCallback((query) => {\n    const fetchMovies = async (query) => {\n      try {\n        const responseMovies = await searchMovie(query);\n        setMovies(responseMovies);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    fetchMovies(query);\n  }, []);\n\n\n  useEffect(() => {\n    if (query) {\n      fetches(query);\n      return\n    }\n    setMovies([]);\n  }, [fetches, query])\n\n\n  return (\n    <div>\n      <SearchBox onChange={getQuery} value={query} />\n      {!movies.length > 0 ? <div>Please, enter your search query</div> : (\n        <ul>\n          {movies.map(item => (\n            <li key={item.id}>\n              <Link to={`${item.id}`} state={{ from: location }}>{item.title} </Link>\n            </li>\n            \n          ))}\n        </ul>\n      )}\n    </div>\n  ) \n}\n\nexport default MoviesPage;\n"],"names":["SearchBox","onChange","useState","query","setQuery","onSubmit","e","preventDefault","alert","type","value","target","toLowerCase","trim","movies","setMovies","useSearchParams","searchParams","setSearchParams","get","location","useLocation","fetches","useCallback","fetchMovies","searchMovie","responseMovies","console","log","useEffect","length","map","item","to","id","state","from","title"],"sourceRoot":""}